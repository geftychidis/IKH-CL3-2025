<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Horizon Europe Cluster 3 – Projects 2025</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { text-align: center; margin-bottom: 1em; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 1em; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    tr.highlight { background-color: #ffffcc; cursor: pointer; }
    th { background-color: #f2f2f2; }
    .tooltip {
      display: none;
      position: absolute;
      max-width: 300px;
      background: #fff;
      border: 1px solid #333;
      padding: 10px;
      box-shadow: 2px 2px 8px rgba(0,0,0,0.2);
      z-index: 1000;
      pointer-events: none;
    }
  </style>
</head>
<body>

<h1>Horizon Europe Cluster 3 – Projects 2025</h1>

<table id="projects-table">
  <thead>
    <tr>
      <th>Cluster</th>
      <th>Topic Code</th>
      <th>Title</th>
      <th>Type of Action</th>
      <th>TRL Expected</th>
      <th>Page</th>
    </tr>
  </thead>
  <tbody>
    <!-- Example row; duplicate/adjust for each topic -->
    <tr class="highlight"
        data-page="55"
        data-scope="Engage citizens and local/regional authorities in enhanced disaster risk awareness, including education and preparedness."
        data-results="• Increased local disaster awareness and preparedness frameworks.\n• Innovative education modules for citizens and authorities.\n• Community engagement toolkits."
        data-criteria="• RIA action.\n• Active involvement of at least 1 Civil Society Organisation and 1 Police Authority from ≥2 Member States.">
      <td>DRS</td>
      <td>HORIZON-CL3-2025-01-DRS-01</td>
      <td>Citizen and regional/local authority engagement in disaster risk awareness</td>
      <td>RIA</td>
      <td>5 → 4</td>
      <td>55</td>
    </tr>
    <tr class="highlight"
        data-page="58"
        data-scope="Improve disaster risk management and governance to ensure self-sufficiency and sustainability of operations."
        data-results="• New governance models for disaster response.\n• Sustainable operation protocols.\n• Self-sufficiency metrics and toolkits."
        data-criteria="• RIA action.\n• Involvement of at least 1 public authority and 1 NGO from ≥2 Member States.">
      <td>DRS</td>
      <td>HORIZON-CL3-2025-01-DRS-02</td>
      <td>Disaster risk management and governance</td>
      <td>RIA</td>
      <td>5 → 3.5</td>
      <td>58</td>
    </tr>
    <!-- …and so on for all other topics… -->
  </tbody>
</table>

<div id="tooltip" class="tooltip"></div>

<script>
  const tooltip = document.getElementById('tooltip');

  document.querySelectorAll('tr.highlight').forEach(row => {
    // Hover tooltip
    row.addEventListener('mouseenter', e => {
      const { scope, results, criteria } = row.dataset;
      tooltip.innerHTML = `
        <strong>Scope</strong><br>${scope}<br><br>
        <strong>Expected Results</strong><ul>
          ${results.split('•').filter(Boolean).map(r => `<li>${r.trim()}</li>`).join('')}
        </ul>
        <strong>Key Eligibility Criteria</strong><br>${criteria}
      `;
      tooltip.style.display = 'block';
    });
    row.addEventListener('mousemove', e => {
      tooltip.style.top = (e.pageY + 15) + 'px';
      tooltip.style.left = (e.pageX + 15) + 'px';
    });
    row.addEventListener('mouseleave', () => {
      tooltip.style.display = 'none';
    });

    // Click to open PDF at topic page via raw.githack (inline view)
    row.addEventListener('click', () => {
      const page = row.dataset.page || '1';
      const url = `https://raw.githack.com/geftychidis/IKH-CL3-2025/main/ec_rtd_he-wp-2025-cluster3-pre.pdf#page=${page}`;
      let newWin = window.open(url, '_blank');
      if (!newWin) {
        // retry if popup blocked
        setTimeout(() => {
          newWin = window.open(url, '_blank');
          if (!newWin) {
            window.location.href = url;
          }
        }, 300);
      }
    });
  });
</script>

</body>
</html>

